.\" DO NOT MODIFY THIS FILE!  It was generated by help2man 1.49.3.
.TH DISTILLER-UPDATE "1" "October 2025" "distiller-update 2.2.0" "User Commands"
.SH NAME
distiller-update \- APT update checker for Pamir AI Distiller devices
.SH DESCRIPTION
debian/distiller\-update\-help: line 8: exec: uv: not found
.SH "SYSTEMD INTEGRATION"
.B distiller-update
includes a systemd timer unit that runs hourly checks automatically:
.PP
.nf
.RS
sudo systemctl status distiller-update.timer
sudo systemctl start distiller-update.service
sudo journalctl -u distiller-update -f
.RE
.fi
.SH CONFIGURATION
The configuration file
.I /etc/distiller-update/config.toml
supports the following settings:
.PP
.B Core Settings:
.RS
check_interval, repository_url, distribution, log_level
.RE
.PP
.B Notifications:
.RS
notify_motd, notify_dbus
.RE
.PP
.B News Fetching:
.RS
news_enabled, news_url, news_fetch_timeout, news_cache_ttl
.RE
.PP
.B APT Timeouts:
.RS
apt_update_timeout, apt_list_timeout, apt_query_timeout, apt_install_timeout
.RE
.PP
.B Policy Settings:
.RS
policy_allow_new_packages
.RE
.SH SECURITY
.B distiller-update
requires root privileges for all commands except
.BR version .
It includes the following security features:
.PP
.RS
* Package name validation
.br
* Command execution timeouts
.br
* Lock file mechanism to prevent concurrent updates
.br
* Restricted to curated Pamir AI repository
.RE
.SH "EXIT STATUS"
.TP
.B 0
Success
.TP
.B 1
General error (permission denied, missing dependencies)
.TP
.B 2
Update installation failed
.SH FILES
.TP
.I /etc/distiller-update/config.toml
Main configuration file. Contains settings for check intervals, repository URLs,
notification preferences, and timeout values.
.TP
.I /var/cache/distiller-update/
Cache directory for package information and news data.
.TP
.I /var/lib/systemd/timers/stamp-distiller-update.timer
Systemd timer tracking file for automated checks.
.SH EXAMPLES
.TP
Check for updates:
.B sudo distiller-update check
.TP
List available updates in JSON format:
.B sudo distiller-update list --json
.TP
Apply all available updates:
.B sudo distiller-update apply
.TP
Apply updates with forced refresh:
.B sudo distiller-update apply --refresh
.SH AUTHOR
PamirAI Incorporated <founders@pamir.ai>
.SH "REPORTING BUGS"
Report bugs to: https://github.com/pamir-ai-pkgs/distiller-update/issues
.SH COPYRIGHT
Copyright (c) 2025 PamirAI Incorporated.
.br
License: MIT License
.SH "SEE ALSO"
.BR apt-get (8),
.BR apt (8),
.BR systemctl (1),
.BR systemd.timer (5)
.PP
Full documentation: /usr/share/doc/distiller-update/README.md
